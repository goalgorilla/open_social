services:
  alternative_frontpage.redirect_homepage:
    class: Drupal\alternative_frontpage\EventSubscriber\RedirectHomepageSubscriber
    arguments: ['@user.data', '@config.factory', '@current_user', '@path.matcher', '@state', '@entity_type.manager', '@language_manager', '@path_alias.repository']
    tags:
      - { name: event_subscriber }

  alternative_frontpage.avoid_deleting_frontpage_entity:
    alias: Drupal\alternative_frontpage\Service\AvoidDeletingFrontPageEntity

  alternative_frontpage.form_validator:
    class: Drupal\alternative_frontpage\Form\FrontpageEntityDeletionValidator
    arguments:
      - '@entity_type.manager'
      - '@alternative_frontpage.avoid_deleting_frontpage_entity'

  alternative_frontpage.entity_delete_validation:
    class: Drupal\alternative_frontpage\Hooks\AlternativeFrontpageEntityDeleteValidation
    arguments:
      - '@alternative_frontpage.avoid_deleting_frontpage_entity'
      - '@logger.factory'

  Drupal\alternative_frontpage\Service\AvoidDeletingFrontPageEntity:
    class: Drupal\alternative_frontpage\Service\AvoidDeletingFrontPageEntity
    arguments:
      - '@entity_type.manager'
      - '@path_alias.manager'
