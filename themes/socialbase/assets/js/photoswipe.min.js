!function(e){!function(t){for(var i=function(e){for(var e,t,i,n,r=e.childNodes,a=r.length,o=[],l=0;l<a;l++)if(1===(e=r[l]).nodeType){t=e.children,i=e.getAttribute("data-size").split("x"),(n={src:e.getAttribute("href"),w:parseInt(i[0],10),h:parseInt(i[1],10),author:e.getAttribute("data-author")}).el=e,t.length>0&&(n.msrc=t[0].getAttribute("src"),t.length>1&&(n.title=t[1].innerHTML));var s=e.getAttribute("data-med");s&&(i=e.getAttribute("data-med-size").split("x"),n.m={src:s,w:parseInt(i[0],10),h:parseInt(i[1],10)}),n.o={src:n.src,w:n.w,h:n.h},o.push(n)}return o},n=function e(t,i){return t&&(i(t)?t:e(t.parentNode,i))},r=function(t,n,r,a){e(".iframe-container .pswp").length&&(d=e(".pswp").first(),e(".pswp").each(function(){e(this).remove()}),d.appendTo("body"));var o,l,s,d=document.querySelectorAll(".pswp")[0];if(s=i(n),l={galleryUID:n.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=s[e].el.children[0],i=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}},addCaptionHTMLFn:function(e,t,i){return e.title?(t.children[0].innerHTML=e.title+"<br/><small>Photo: "+e.author+"</small>",!0):(t.children[0].innerText="",!1)}},a)if(l.galleryPIDs){for(var c=0;c<s.length;c++)if(s[c].pid==t){l.index=c;break}}else l.index=parseInt(t,10)-1;else l.index=parseInt(t,10);if(!isNaN(l.index)){for(var u=document.getElementsByName("gallery-style"),p=0,h=u.length;p<h;p++)if(u[p].checked){"radio-all-controls"==u[p].id||"radio-minimal-black"==u[p].id&&(l.mainClass="pswp--minimal--dark",l.barsSize={top:0,bottom:0},l.captionEl=!1,l.fullscreenEl=!1,l.shareEl=!1,l.bgOpacity=.85,l.tapToClose=!0,l.tapToToggleControls=!1);break}r&&(l.showAnimationDuration=0);var f,g,w=!1,m=!0;(o=new PhotoSwipe(d,PhotoSwipeUI_Default,s,l)).listen("beforeResize",function(){var e=window.devicePixelRatio?window.devicePixelRatio:1;e=Math.min(e,2.5),(f=o.viewportSize.x*e)>=1200||!o.likelyTouchDevice&&f>800||screen.width>1200?w||(w=!0,g=!0):w&&(w=!1,g=!0),g&&!m&&o.invalidateCurrItems(),m&&(m=!1),g=!1}),o.listen("gettingData",function(e,t){w?(t.src=t.o.src,t.w=t.o.w,t.h=t.o.h):(t.src=t.m.src,t.w=t.m.w,t.h=t.m.h)}),o.init()}},a=document.querySelectorAll(t),o=0,l=a.length;o<l;o++)a[o].setAttribute("data-pswp-uid",o+1),a[o].onclick=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,i=n(t,function(e){return"A"===e.tagName});if(i){for(var a,o=i.parentNode,l=i.parentNode.childNodes,s=l.length,d=0,c=0;c<s;c++)if(1===l[c].nodeType){if(l[c]===i){a=d;break}d++}return a>=0&&r(a,o),!1}};var s=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n]){var r=i[n].split("=");r.length<2||(t[r[0]]=r[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();s.pid&&s.gid&&r(s.pid,a[s.gid-1],!0,!0)}(".photoswipe-gallery")}(jQuery);